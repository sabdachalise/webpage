V<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure E-commerce</title>
    <meta name="google-adsense-account" content="ca-pub-3454562365323569">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3454562365323569" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Sign-In API -->
    <meta name="google-signin-client_id" content="568400859790-7birgtmbt9v138q7qan4bo3loo4ggrmt.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="script.js" defer></script>
</head>
<body>
    <!-- Google Sign-In Button -->
    <div id="g-signin-button" class="hidden">
        <div class="g-signin2" data-onsuccess="onSignIn"></div>
    </div>

    <!-- Overlay for login -->
    <div id="overlay" class="overlay">
        <div class="login-box">
            <h2>Login</h2>
            <input type="text" id="username" placeholder="Username">
            <input type="password" id="password" placeholder="Password">
            <button onclick="checkCredentials()">Submit</button>
            <button id="send-email-button">Send Email</button>
        </div>
    </div>

    <!-- Main Content -->
    <div id="content" class="blur">
        <header>
            <h1>My E-commerce Store</h1>
            <div class="header-icons">
                <div id="search-icon" onclick="toggleSearch()">
                    <img src="https://img.icons8.com/material-outlined/24/000000/search--v1.png" alt="Search">
                </div>
                <div id="cart">
                    <span id="cart-count">0</span> items in cart
                </div>
            </div>
            <div id="search-bar" class="hidden">
                <input type="text" id="search-input" placeholder="Search products...">
                <button onclick="searchProducts()">Search</button>
            </div>
        </header>

        <nav>
            <button onclick="showSection('home')">Home</button>
            <button onclick="showSection('cart')">My Cart (<span id="cart-count">0</span>)</button>
            <button onclick="showSection('details')">My Details</button>
        </nav>

        <main>
            <section id="home" class="section active">
                <h2>Home</h2>
                <div class="products-grid">
                    <!-- Product items will be added dynamically -->
                </div>
            </section>

            <section id="cart" class="section">
                <h2>My Cart</h2>
                <ul id="cart-items">
                    <!-- Cart items will be added here -->
                </ul>
                <p id="total">Total: NPR <span id="total-amount">0.00</span></p>
                <button id="checkout" onclick="checkout()">Checkout</button>
            </section>

            <section id="details" class="section">
                <h2>My Details</h2>
                <div id="user-info">
                    <p id="user-name">Name: <span id="user-name-text">Sabda Chalise</span></p>
                    <p id="user-email">Email: <span id="user-email-text">register@gmail.com</span></p>
                    <button onclick="toggleEditDetailsForm()">Edit Details</button>
                    <!-- Google Sign-In button for signing in -->
                    <div id="g-signin-container">
                        <div class="g-signin2" data-onsuccess="onSignIn"></div>
                    </div>
                    <a href="#" id="sign-out" onclick="signOut();">Sign out</a>
                    <form id="edit-details-form" class="hidden" onsubmit="handleEditDetails(event)">
                        <label for="edit-name">Name:</label>
                        <input type="text" id="edit-name" required>
                        <label for="edit-email">Email:</label>
                        <input type="email" id="edit-email" required>
                        <button type="submit">Save</button>
                    </form>
                    <h3>Purchase History</h3>
                    <ul id="purchase-history">
                        <!-- Purchase history items will be added here -->
                    </ul>
                </div>
            </section>

            <section id="checkout-details" class="section hidden">
                <h2>Checkout Details</h2>
                <form id="checkout-form" onsubmit="handleCheckout(event)">
                    <label for="name">Name:</label>
                    <input type="text" id="name" required>
                    <label for="email">Email:</label>
                    <input type="email" id="email" required>
                    <label for="phone">Phone:</label>
                    <input type="text" id="phone" required>
                    <label for="address">Address:</label>
                    <input type="text" id="address" required>
                    <label for="payment">Payment Method:</label>
                    <select id="payment" required>
                        <option value="Credit Card">Credit Card</option>
                        <option value="Debit Card">Debit Card</option>
                        <option value="PayPal">PayPal</option>
                    </select>
                    <button type="submit">Place Order</button>
                </form>
            </section>

            <section id="product-details" class="section hidden">
                <h2>Product Details</h2>
                <div id="product-info">
                    <!-- Product details will be added dynamically -->
                </div>
            </section>
        </main>

        <div id="floating-cart" onclick="showSection('cart')">
            <img src="https://img.icons8.com/material-outlined/24/000000/shopping-cart--v1.png" alt="Cart">
            <span id="floating-cart-count">0</span>
        </div>
    </div>

    <footer>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3454562365323569" crossorigin="anonymous"></script>
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-format="autorelaxed"
            data-ad-client="ca-pub-3454562365323569"
            data-ad-slot="6650415353"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </footer>
</body>
</html>
